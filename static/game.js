t=0;g=[[],[],[],[],[],[]];o=0;document.body.children[0].onclick=function(e){c=e.target.cellIndex;if(!o&&c+1){for(r=6;g[--r]&&g[r][c]+1;);if(r+1){g[r][c]=t;s="";for(i=42;i--;)s=(g[~~(i/7)][i%7]+1||" ")+s;/(\d)(\1{3}|(.{6}\1){3}|(.{7}\1){3}|(.{5}\1){3})/.exec(s)&&++o&&console.log("WINNER!");t=+!t;this.rows[r].cells[c].style.background=t?"#ff0":"red"}}}
