var e=[[],[],[],[],[],[]],c,o,d,l,n=1,r=0;document.body.children[0].addEventListener("click",function(t){if(o=t.target.cellIndex,!r&&+(o+1)){for(d=6;e[--d]&&e[d][o];);if(d>=0){for(e[d][o]=n,l="",c=42;c--;)l=(e[~~(c/7)][c%7]||" ")+l;/(\d)(\1{3}|(.{6}\1){3}|(.{7}\1){3}|(.{5}\1){3})/.exec(l)&&++r&&console.log("WINNER!"),this.rows[d].cells[o].style.background=n>1?"red":"#ff0",n=n>1?1:2}}});